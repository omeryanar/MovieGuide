<MudLink Underline="Underline.None" Href="@Media.Link">
    <MudCard Class="media-card" Elevation="3">
        <MudImage Class="rounded-t media-card-img" Src="@image" />
        @if (Media is SearchMovieTvBase movieTv)
        {
            <MudCardContent Class="media-card-content media-card-rating">
                <RatingCircular Value="@movieTv.VoteAverage"></RatingCircular>
                <MudText Typo="Typo.h5">@Media</MudText>
                <MudText Typo="Typo.h6">@date</MudText>
            </MudCardContent>
        }
        @if (Media is SearchPerson person)
        {
            <MudCardContent Class="media-card-content">
                <MudText Class="my-2" Typo="Typo.h5">@Media</MudText>
                <MediaLinkSet MediaItems="@person.KnownFor" />
            </MudCardContent>
        }
    </MudCard>
</MudLink>

@code
{
    [Parameter]
    public SearchBase Media { get; set; }

    protected override void OnParametersSet()
    {
        switch (Media)
        {
            case SearchMovie movie:
                image = movie.PosterFullPath;
                date = movie.ReleaseDate.GetFormattedDate();
                break;

            case SearchTvShow tv:
                image = tv.PosterFullPath;
                date = tv.FirstAirDate.GetFormattedDate();
                break;

            case SearchPerson person:
                image = person.ProfileFullPath;
                break;
        }
    }

    private string image;

    private string date;    
}
